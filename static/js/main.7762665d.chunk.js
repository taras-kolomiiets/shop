(this["webpackJsonpreact-shop-cart"]=this["webpackJsonpreact-shop-cart"]||[]).push([[0],{26:function(t,e,c){},33:function(t,e,c){"use strict";c.r(e);var r=c(1),a=c(19),i=c.n(a),n=c(8),s=(c(26),c(13)),o=c(17),d=c(9),l=c(2),u=[{id:1,name:"article 1",label:"Lorem ipsum dolor sit amet, consectetur adipiscing elit,sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",price:25},{id:2,name:"article 2",label:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",price:35},{id:3,name:"article 3",label:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",price:45}],m=c(0),j=function(t){var e=t.cart,c=t.addProductInCart,r=t.removeProductFromCart,a=t.deletePurchasedProduct,i=e.name,n=e.url,s=e.count,o=e.totalPrice,d=e.id;return Object(m.jsxs)("div",{className:"cart-list-item",children:[Object(m.jsxs)("div",{className:"cart-list-item__header",children:[Object(m.jsx)("div",{className:"cart-list-item__image",children:Object(m.jsx)("img",{src:n,alt:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442"})}),Object(m.jsx)("h4",{className:"cart-list-item__name",children:i})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:"button-cart",onClick:function(){return c(d)},children:"+"}),Object(m.jsx)("span",{className:"cart-list-item__count",children:s}),Object(m.jsx)("button",{className:"button-cart",onClick:function(){return r(d)},children:"-"})]}),Object(m.jsxs)("span",{className:"cart-list-item__total-price",children:[o," $"]}),Object(m.jsx)("button",{className:"button delete",onClick:function(){return a(d)},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0442\u043e\u0432\u0430\u0440"})]})},b=function(t){var e=t.storageCartList,c=t.addProductInCart,r=t.removeProductFromCart,a=t.deletePurchasedProduct,i=Object.values(e).map((function(t){return t.totalPrice})).reduce((function(t,e){return t+e}),0);return e.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:"cart-list",children:e.map((function(t){var e=t.id;return Object(m.jsx)("li",{children:Object(m.jsx)(j,{cart:t,addProductInCart:c,removeProductFromCart:r,deletePurchasedProduct:a})},e)}))}),i&&Object(m.jsxs)("h2",{className:"cart__total-price",children:["\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u0430:"," ",Object(m.jsxs)("span",{className:"cart__total-price-number",children:[i," $"]})]})]}):Object(m.jsx)("h1",{className:"header__empty-cart",children:"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430!"})},h=function(t){var e=t.cartList,c=t.id,a=t.addProductInCart,i=t.removeProductFromCart,n=Object(r.useState)(!1),o=Object(s.a)(n,2),d=o[0],l=o[1],u=e.filter((function(t){return t.id===c}));return Object(r.useEffect)((function(){u.length>0?l(!0):l(!1)}),[e,u.length]),d?Object(m.jsx)("button",{className:"button",onClick:function(){return i(c)},children:"\u0422\u043e\u0432\u0430\u0440 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0456"}):Object(m.jsx)("button",{className:"button",onClick:function(){return a(c)},children:"\u041f\u0440\u0438\u0434\u0431\u0430\u0442\u0438"})},p=c.p+"static/media/product.df114c5f.jpg",O=function(t){var e=t.cartList,c=t.product,r=t.addProductInCart,a=t.removeProductFromCart,i=c.name,n=c.label,s=c.price,o=c.id;return Object(m.jsxs)("div",{className:"shop-list-item",children:[Object(m.jsxs)("div",{className:"shop-list-item__header",children:[Object(m.jsx)("div",{className:"shop-list-item__image",children:Object(m.jsx)("img",{src:p,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443",className:"shop-list-item__url"})}),Object(m.jsx)("h3",{className:"shop-list-item__name",children:i})]}),Object(m.jsxs)("div",{className:"shop-list-item__content",children:[Object(m.jsx)("p",{className:"shop-list-item__description",children:n}),Object(m.jsxs)("span",{className:"shop-list-item__price",children:["\u0426\u0456\u043d\u0430: ",s," $"]})]}),Object(m.jsx)(h,{cartList:e,id:o,addProductInCart:r,removeProductFromCart:a})]})},x=function(t){var e=t.products,c=t.addProductInCart,r=t.cartList,a=t.removeProductFromCart;return Object(m.jsx)("section",{className:"shop-list",children:Object(m.jsx)("ul",{className:"shop-list__list",children:e.map((function(t){var e=t.id;return Object(m.jsx)("li",{className:"shop-list__item",children:Object(m.jsx)(O,{removeProductFromCart:a,cartList:r,product:t,addProductInCart:c})},e)}))})})},f=function(){return Object(m.jsxs)("ul",{className:"navigation",children:[Object(m.jsx)("li",{className:"navigation__item",children:Object(m.jsx)(n.b,{to:"/shop",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})}),Object(m.jsx)("li",{className:"navigation__item",children:Object(m.jsx)(n.b,{to:"/cart-list",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"})})]})},_=function(){var t=Object(r.useState)([]),e=Object(s.a)(t,2),c=e[0],a=e[1],i=JSON.parse(localStorage.getItem("cart"))||[],n=function(t,e){var r=u.find((function(e){return e.id===t})),a=c.findIndex((function(e){return e.id===t})),n=function(t,e,c){return e?Object(o.a)(Object(o.a)({},e),{},{totalPrice:e.totalPrice+c*t.price,count:e.count+c}):{id:t.id,name:t.name,url:p,totalPrice:t.price,count:1}}(r,c[a],e),s=function(t,e,c){return 0===e.count?[].concat(Object(d.a)(t.slice(0,c)),Object(d.a)(t.slice(c+1))):-1===c?[].concat(Object(d.a)(t),[e]):[].concat(Object(d.a)(t.slice(0,c)),[e],Object(d.a)(t.slice(c+1)))}(c,n,a);return i.push(n),localStorage.setItem("cart",JSON.stringify(s)),s},j=function(t){a(n(t,1))},h=function(t){a(n(t,-1))},O=function(t){a((function(){var e=c.findIndex((function(e){return e.id===t})),r=c[e];a(n(t,-r.count))}))};return Object(m.jsxs)("main",{className:"app",children:[Object(m.jsx)(f,{}),Object(m.jsx)(l.a,{exact:!0,path:"/shop",render:function(){return Object(m.jsx)(x,{cartList:c,products:u,addProductInCart:j,removeProductFromCart:h})}}),Object(m.jsx)(l.a,{path:"/cart-list",exact:!0,render:function(){return Object(m.jsx)(b,{storageCartList:i,addProductInCart:j,removeProductFromCart:h,deletePurchasedProduct:O})}})]})};i.a.render(Object(m.jsx)(n.a,{children:Object(m.jsx)(_,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.7762665d.chunk.js.map